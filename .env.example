# ============================================
# LEEMASMART BACKEND - ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ============================================
# DOMAIN CONFIGURATION (SET THESE FIRST!)
# ============================================
# Your main API domain
DOMAIN=saleor.leemasmart.com

# Your frontend domain (for CORS)
FRONTEND_DOMAIN=leemasmart.com

# Protocol (http for local dev, https for production)
PROTOCOL=https

# Derived URLs (these use the domain above)
PUBLIC_URL=${PROTOCOL}://${DOMAIN}
API_URL=${PROTOCOL}://${DOMAIN}/graphql/
DASHBOARD_URL=${PROTOCOL}://${DOMAIN}/dashboard/
STOREFRONT_URL=${PROTOCOL}://${FRONTEND_DOMAIN}

# ============================================
# DATABASE CONFIGURATION
# ============================================
DB_USER=saleor
DB_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD_MIN_32_CHARS
DB_HOST=postgres
DB_PORT=5432
DB_NAME=saleor

# Full database URL (used by Saleor)
DATABASE_URL=postgres://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0
CELERY_BROKER_URL=redis://${REDIS_HOST}:${REDIS_PORT}/1

# ============================================
# SALEOR CORE CONFIGURATION
# ============================================
# Generate a random 50+ character string for production!
SECRET_KEY=GENERATE_A_RANDOM_50_CHAR_STRING_FOR_PRODUCTION

# Debug mode (set to false in production!)
DEBUG=false

# Allowed hosts (comma-separated)
ALLOWED_HOSTS=${DOMAIN},localhost,127.0.0.1

# Allowed client hosts (for GraphQL playground)
ALLOWED_CLIENT_HOSTS=${DOMAIN},${FRONTEND_DOMAIN},localhost:3000,localhost:3001

# ============================================
# CORS CONFIGURATION
# ============================================
# Comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=${PROTOCOL}://${FRONTEND_DOMAIN},${PROTOCOL}://www.${FRONTEND_DOMAIN},http://localhost:3000,http://localhost:3001

# CSRF trusted origins
CSRF_TRUSTED_ORIGINS=${PROTOCOL}://${DOMAIN},${PROTOCOL}://${FRONTEND_DOMAIN},http://localhost:3000,http://localhost:3001

# Allow credentials in CORS requests
CORS_ALLOW_CREDENTIALS=true

# ============================================
# COUNTRY & CURRENCY
# ============================================
DEFAULT_COUNTRY=IN
DEFAULT_CURRENCY=INR
DEFAULT_CHANNEL_SLUG=default-channel

# ============================================
# EMAIL CONFIGURATION
# ============================================
DEFAULT_FROM_EMAIL=info@leemasmart.com

# SMTP URL format: smtp://user:password@host:port/?tls=True
# For Gmail with App Password:
EMAIL_URL=smtp://your_email@gmail.com:your_app_password@smtp.gmail.com:587/?tls=True

# ============================================
# JWT SETTINGS
# ============================================
JWT_TTL_ACCESS=5 minutes
JWT_TTL_REFRESH=30 days
JWT_TTL_REQUEST=5 minutes

# ============================================
# ACCOUNT SETTINGS
# ============================================
# Set to true in production to require email confirmation
ENABLE_ACCOUNT_CONFIRMATION_BY_EMAIL=false

# ============================================
# DOCKER CONFIGURATION
# ============================================
COMPOSE_PROJECT_NAME=leemasmart-backend
NODE_ENV=production
PYTHONUNBUFFERED=1

# ============================================
# SSL/TLS (for Traefik Let's Encrypt)
# ============================================
# Email for Let's Encrypt certificate notifications
ACME_EMAIL=info@leemasmart.com

# ============================================
# RESOURCE LIMITS (Optional)
# ============================================
# Uncomment and adjust for your VPS resources
# GUNICORN_WORKERS=4
# GUNICORN_THREADS=4
# POSTGRES_MAX_CONNECTIONS=100
# REDIS_MAX_MEMORY=256mb

# ============================================
# MONITORING (Optional)
# ============================================
# SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id